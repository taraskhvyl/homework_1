var addProject=function(){var e=function(){u()},u=function(){$(".add-work").on("click",a),$("#fileProject").on("change",n),$("#fileProject").on("keyup",n),$(".icon-drive").on("click",d),$("#modal-form").on("submit",t),$("#formFeedback").on("submit",F)},a=function(e){var u=$("#popup"),a=u.find("form");e.preventDefault?e.preventDefault():e.returnValue=!1,u.bPopup({positionStyle:"fixed",modalClose:!0,transition:"slideDown",onClose:function(){$(".message").hide(),a.find("input").val(""),a.find("textarea").val(""),a.show(),a.validate().resetForm(),a.find("input,textarea").removeClass("error")}},function(){$("input, textarea").placeholder()})},t=function(e){e.preventDefault();var u=$(this),a="send.php",t=u.serialize();$.ajax({type:"POST",url:a,dataType:"json",data:t}).done(function(e){$(".message").hide(),"OK"==e.status?u.hide().siblings(".success-mess").show():$(".error-mess").show()}).fail(function(){u.find(".error-mess").text("Ошибка")})},F=function(e){e.preventDefault();var u=$(this),a="send.php",t=u.serialize();$.ajax({type:"POST",url:a,dataType:"json",data:t}).done(function(e){$(".message").hide(),"OK"==e.status?u.hide().siblings(".success-mess").show():$(".error-mess").show()}).fail(function(){u.find(".error-mess").text("Ошибка")})},n=function(){$("#uploadFile").val(this.value),$("#modal-form").validate().element("#uploadFile")},d=function(){$("#fileProject").click()};return{init:e}}();addProject.init(),$(document).ready(function(){$("#formFeedback").validate({errorElement:"div",rules:{name:{required:!0},email:{required:!0,email:!0},message:{required:!0},captcha:{required:!0,minlength:6,maxlength:6}},messages:{name:"введите имя",email:"некорректный email",message:"ваш вопрос",captcha:"код капчи"}})});var addProject=function(){var e=function(){u()},u=function(){$("#formFeedback").on("submit",a),$('button[type="reset"]').on("click",t)},a=function(e){e.preventDefault();var u=$(this),a="feedback.php",t=u.serialize();$.ajax({type:"POST",url:a,dataType:"json",data:t}).done(function(e){$(".message").hide(),"OK"==e.status?u.hide().siblings(".success-mess").show():$(".error-mess").show()}).fail(function(){u.find(".error-mess").text("Ошибка")})},t=function(){$("#formFeedback").validate().resetForm(),$(".message").hide()};return{init:e}}();addProject.init(),$(document).ready(function(){function e(){$(".nav").removeClass("showMenu"),$(".block-ahead-body").fadeOut()}$(".work-image").hover(function(){$(this).parent().find(".block-ahead").stop(!0).fadeIn(300)},function(){$(this).parent().find(".block-ahead").fadeOut(100)}),$(".mobile-menu").click(function(){var e=$(".block-ahead-body").is(":visible");e===!0?($(".block-ahead-body").fadeOut(),$(".nav").removeClass("showMenu")):($(".block-ahead-body").fadeIn(),$(".nav").addClass("showMenu"))}),$(".block-ahead-body").click(function(){e()}),$(".close-red").on("click",function(){$(".error-mess").hide()}),$("#modal-form").validate({errorElement:"div",rules:{nameProject:{required:!0},urlProject:{required:!0,complete_url:!0},descriptionProject:{required:!0},uploadFile:{required:!0}},messages:{nameProject:"название проекта",urlProject:"ссылка на проект",descriptionProject:"описание",uploadFile:"изображение"}}),jQuery.validator.addMethod("complete_url",function(e,u){return 0==e.length?!0:(/^(https?|ftp):\/\//i.test(e)||(e="http://"+e,$(u).val(e)),/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e))})});